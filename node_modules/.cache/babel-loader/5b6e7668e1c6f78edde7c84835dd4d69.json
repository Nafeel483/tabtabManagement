{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Desktop/management-taptapnow/src/components/Register.js\";\nimport React, { Component } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { urlFunction } from '../utils/urls';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Alert from '@material-ui/lab/Alert';\nimport { userContext } from '../utils/userContext';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport PhoneInput from 'react-phone-input-2';\nimport 'react-phone-input-2/lib/style.css';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nfunction Copyright() {\n  return /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, 'Copyright © ', /*#__PURE__*/React.createElement(Link, {\n    color: \"inherit\",\n    href: \"https://material-ui.com/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, \"Tap tap now  management\"), ' ', new Date().getFullYear(), '.');\n}\n\nconst styles = theme => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff'\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n});\n\nclass Register extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleCloseSnackbar = () => {\n      this.setState({\n        showSucess: !this.state.showSucess\n      });\n    };\n\n    this._handleSubmit = e => {\n      this.setState({\n        openBackdrop: !this.state.openBackdrop\n      });\n      e.preventDefault();\n      let data = {\n        'first_name': this.state.first_name,\n        'name_user': this.state.name_user,\n        'last_name': this.state.last_name,\n        'email_user': this.state.email_user,\n        'tel_user': this.state.tel_user,\n        'password_user': 'taptapnow01@'\n      };\n      axios.post(`${urlFunction()}/user/create`, data, {\n        headers: {\n          Authorization: 'bearer ' + this.state.user.token\n        }\n      }).then(res => {\n        this.setState({\n          first_name: '',\n          last_name: '',\n          email_user: '',\n          password_user: '',\n          name_user: '',\n          showSucess: true,\n          tel_user: '',\n          openBackdrop: !this.state.openBackdrop\n        });\n      }).catch(err => {\n        alert(\"This mail address 's already used\");\n        this.setState({\n          email_user: '',\n          showSucess: false,\n          openBackdrop: !this.state.openBackdrop\n        });\n      });\n    };\n\n    this.handleInputChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.componentDidMount = async () => {\n      let user = await userContext();\n\n      if (user != null) {\n        this.setState({\n          user: JSON.parse(user)\n        });\n      } else {\n        // Back him login\n        this.setState({\n          isLogin: false\n        });\n      }\n    };\n\n    this.state = {\n      showSucess: false,\n      openBackdrop: false,\n      tel_user: '',\n      email_user: '',\n      first_name: '',\n      last_name: '',\n      password_user: '',\n      tel_user: ''\n    };\n  }\n\n  render() {\n    let {\n      openBackdrop\n    } = this.state;\n\n    if (this.state.isLogin == false) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 17\n        }\n      });\n    }\n\n    let {\n      classes\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Backdrop, {\n      className: classes.backdrop,\n      open: openBackdrop,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(CircularProgress, {\n      color: \"inherit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 6\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      alignContent: 'center',\n      alignItems: 'center',\n      justify: 'center',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      component: \"main\",\n      maxWidth: \"sm\",\n      margin: \"auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.paper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 13\n      }\n    }, this.state.showSucess == true ? /*#__PURE__*/React.createElement(Alert, {\n      onClose: this.handleCloseSnackbar,\n      severity: \"success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    }, \"Customer have been create.\") : null, /*#__PURE__*/React.createElement(Avatar, {\n      className: classes.avatar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(LockOutlinedIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(Typography, {\n      component: \"h1\",\n      variant: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }\n    }, \"Create customer\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: classes.form,\n      noValidate: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      spacing: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      name: \"name_user\",\n      label: \"User name\",\n      type: \"text\",\n      id: \"name_user\",\n      value: this.state.name_user,\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      autoComplete: \"fname\",\n      name: \"first_name\",\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      id: \"firstName\",\n      label: \"First Name\",\n      autoFocus: true,\n      value: this.state.first_name,\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      id: \"lastName\",\n      label: \"Last Name\",\n      name: \"last_name\",\n      autoComplete: \"lname\",\n      value: this.state.last_name,\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      id: \"email\",\n      label: \"Email Address\",\n      name: \"email_user\",\n      autoComplete: \"email\",\n      value: this.state.email_user,\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(PhoneInput, {\n      country: 'us',\n      value: this.state.tel_user,\n      placeholder: 'Phone number' // onlyCountries={['ca', 'ht', 'us']}\n      ,\n      inputProps: {\n        name: 'phone',\n        required: true,\n        autoFocus: false\n      },\n      onChange: tel_user => this.setState({\n        tel_user\n      }),\n      inputStyle: {\n        paddding: 12,\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 21\n      }\n    }))), this.state.email_user != '' ? /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      fullWidth: true,\n      variant: \"contained\",\n      color: \"primary\",\n      className: classes.submit,\n      onClick: this._handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 19\n      }\n    }, \"Create\") : null)), /*#__PURE__*/React.createElement(Box, {\n      mt: 5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Copyright, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 17\n      }\n    })))));\n  }\n\n}\n\nexport default withStyles(styles)(Register);","map":{"version":3,"sources":["/Users/apple/Desktop/management-taptapnow/src/components/Register.js"],"names":["React","Component","Avatar","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Link","Grid","Box","LockOutlinedIcon","Typography","makeStyles","withStyles","Container","urlFunction","Backdrop","Alert","userContext","Redirect","axios","PhoneInput","CircularProgress","Copyright","Date","getFullYear","styles","theme","backdrop","zIndex","drawer","color","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","Register","constructor","props","handleCloseSnackbar","setState","showSucess","state","_handleSubmit","e","openBackdrop","preventDefault","data","first_name","name_user","last_name","email_user","tel_user","post","headers","Authorization","user","token","then","res","password_user","catch","err","alert","handleInputChange","event","target","name","value","componentDidMount","JSON","parse","isLogin","render","classes","required","autoFocus","paddding"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles ,withStyles} from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { urlFunction } from '../utils/urls';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Alert from '@material-ui/lab/Alert';\nimport { userContext } from '../utils/userContext';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport PhoneInput from 'react-phone-input-2'\nimport 'react-phone-input-2/lib/style.css'\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        Tap tap now  management\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst styles = theme => ({\n  backdrop: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\tcolor: '#fff',\n\t},\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n});\n\nclass Register extends Component {\n    constructor(props) {\n      super(props)\n      this.state = {\n        showSucess: false,\n        openBackdrop: false,\n        tel_user: '',\n        email_user: '',\n        first_name: '',\n        last_name: '',\n        password_user:'',\n        tel_user : '',\n      }\n    }\n\n      \n    handleCloseSnackbar = () => {\n      this.setState({\n        showSucess:!this.state.showSucess\n      })\n    }\n\n  _handleSubmit = (e) => {\n    this.setState({\n\t\t\topenBackdrop: !this.state.openBackdrop\n\t\t})\n    e.preventDefault(); \n    let data = {\n      'first_name': this.state.first_name,\n      'name_user': this.state.name_user,\n      'last_name': this.state.last_name,\n      'email_user': this.state.email_user,\n      'tel_user': this.state.tel_user,\n      'password_user': 'taptapnow01@', \n    }    \n\n    axios.post(`${urlFunction()}/user/create`, data,{\n        headers : {\n          Authorization  : 'bearer ' + this.state.user.token,\n        },\n      }\n    ).then(res => {\n      this.setState({\n        first_name: '',\n        last_name: '',\n        email_user: '',\n        password_user: '',\n        name_user: '',\n        showSucess: true,\n        tel_user : '',\n        openBackdrop: !this.state.openBackdrop\n      })\n    }).catch(err => {\n      alert(\"This mail address 's already used\")\n      this.setState({\n        email_user: '',\n        showSucess: false,\n        openBackdrop: !this.state.openBackdrop\n      })\n    })\n  }\n\n  handleInputChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n      \n  componentDidMount = async () => {\n      let user = await userContext();\n      if (user != null) {\n        this.setState({\n          user: JSON.parse(user)\n        })\n      } else {\n        // Back him login\n        this.setState({\n          isLogin: false\n        })\n      }\n  }\n  \n  render() {\n    let {openBackdrop} = this.state\n      if (this.state.isLogin == false ) {\n        return  <Redirect to='/' />\n      }\n      let { classes } = this.props;\n    return (\n      <div>\n        \t<Backdrop className={classes.backdrop} open={openBackdrop} >\n\t\t\t\t\t<CircularProgress color=\"inherit\" />\n\t\t\t\t</Backdrop>\n          \t\t\t\t\n        <Grid\n            alignContent={'center'}\n            alignItems={'center'}\n            justify={'center'}> \n\n          <Container component=\"main\" maxWidth=\"sm\" margin=\"auto\">\n            <div className={classes.paper}>\n              {\n                this.state.showSucess == true ? \n                <Alert onClose={this.handleCloseSnackbar} severity=\"success\">\n                  Customer have been create.\n                </Alert>\n                : null\n              }\n                <Avatar className={classes.avatar}>\n                  <LockOutlinedIcon />\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                Create customer\n                </Typography>\n                <form className={classes.form} noValidate>\n                  <Grid container spacing={2}>\n\n                    <Grid item xs={12}>\n                      <TextField\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        name=\"name_user\"\n                        label=\"User name\"\n                        type=\"text\"\n                        id=\"name_user\"\n                        value={this.state.name_user}\n                        onChange={this.handleInputChange}\n                      />\n                  </Grid>\n\n                    <Grid item xs={12} sm={6}>\n                      <TextField\n                        autoComplete=\"fname\"\n                        name=\"first_name\"\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        id=\"firstName\"\n                        label=\"First Name\"\n                        autoFocus\n                        value={this.state.first_name}\n                        onChange={this.handleInputChange}\n                      />\n                    </Grid>\n                    <Grid item xs={12} sm={6}>\n                      <TextField\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        id=\"lastName\"\n                        label=\"Last Name\"\n                        name=\"last_name\"\n                        autoComplete=\"lname\"\n                        value={this.state.last_name}\n                        onChange={this.handleInputChange}\n                      />\n                    </Grid>\n                    <Grid item xs={12}>\n                      <TextField\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        id=\"email\"\n                        label=\"Email Address\"\n                        name=\"email_user\"\n                        autoComplete=\"email\"\n                        value={this.state.email_user}\n                        onChange={this.handleInputChange}\n                      />\n                    </Grid>\n                    \n                    <Grid item xs={12}>\n                    <PhoneInput\n                      country={'us'}\n                      value={this.state.tel_user}\n                      placeholder={'Phone number'}\n                      // onlyCountries={['ca', 'ht', 'us']}\n                      inputProps={{\n                        name: 'phone',\n                        required: true,\n                        autoFocus: false\n                      }}\n                      onChange={tel_user => this.setState({ tel_user })}\n                      inputStyle={{\n                        paddding: 12,\n                        width:'100%'\n                      }}\n                    />\n                  </Grid>\n                  \n                  {/* \n                  <Grid item xs={12}>\n                      <TextField\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        name=\"password_user\"\n                        label=\"Password\"\n                        type=\"password\"\n                        id=\"password\"\n                        autoComplete=\"current-password\"\n                        value={this.state.password_user}\n                        onChange={this.handleInputChange}\n                      />\n                  </Grid> \n                  */}\n                  \n                </Grid>\n                {this.state.email_user != '' ?\n                  <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                    onClick={this._handleSubmit}\n                  >\n                  Create \n                  </Button>: null\n                }\n                </form>\n              </div>\n              <Box mt={5}>\n                <Copyright />\n              </Box>\n            </Container>\n          </Grid>\n        </div>\n      )\n  }\n}\nexport default  withStyles(styles)(Register);"]},"metadata":{},"sourceType":"module"}