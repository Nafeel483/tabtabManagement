{"ast":null,"code":"var _jsxFileName = \"/opt/management-taptapnow/src/components/Login.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport logo from '../assets/images/logo.png';\nimport Avatar from '@material-ui/core/Avatar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { Link, Redirect } from 'react-router-dom';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container'; // var jwt_decode = require('jwt-decode');\n\nimport { urlFunction } from '../utils/urls';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Alert from '@material-ui/lab/Alert';\nimport { userContext } from '../utils/userContext';\n\nfunction Copyright() {\n  return React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, 'Copyright © ', React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, \"Tap tap now  management\"), ' ', new Date().getFullYear(), '.');\n}\n\nconst styles = theme => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff'\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n});\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleLoginClick = () => {\n      this.setState({\n        openBackdrop: true\n      });\n\n      if (this.state.name !== '' && this.state.password !== '') {\n        let data = {\n          email: this.state.email,\n          password: this.state.password\n        };\n        axios.post(\"\".concat(urlFunction(), \"/user/login\"), data).then(response => {\n          console.log(\"response\", response);\n          var data = response.data;\n\n          if (data) {\n            localStorage.setItem('user', JSON.stringify(data));\n          }\n\n          this.setState({\n            openBackdrop: !this.state.openBackdrop,\n            isLogin: true\n          });\n        }).catch(error => {\n          this.setState({\n            error: true,\n            openBackdrop: false,\n            errorMessage: 'Verify your credentials' || error.message\n          });\n          console.log(\"Data login\", error);\n        });\n      } else {\n        this.setState({\n          errorMessage: 'Field can\\'t  be empty ',\n          openBackdrop: false,\n          error: true\n        });\n      }\n    };\n\n    this.componentDidMount = async () => {\n      let user = await userContext();\n\n      if (user !== null) {\n        // setUser(JSON.parse(user))\n        this.setState({\n          isLogin: true\n        });\n      } else {\n        this.setState({\n          isLogin: false\n        });\n      }\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      error: false,\n      button: false,\n      isLogin: false,\n      openBackdrop: false\n    };\n  }\n\n  render() {\n    let classes = this.props.classes;\n\n    if (this.state.isLogin == true) {\n      return React.createElement(Redirect, {\n        to: \"/home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(Container, {\n      component: \"main\",\n      maxWidth: \"xs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(Backdrop, {\n      className: classes.backdrop,\n      open: this.state.openBackdrop,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(CircularProgress, {\n      color: \"inherit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    })), React.createElement(CssBaseline, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: classes.paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: logo,\n      style: {\n        width: 100\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }), React.createElement(Typography, {\n      component: \"h1\",\n      variant: \"h5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"Log in\"), React.createElement(\"div\", {\n      className: classes.form,\n      noValidate: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      spacing: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      id: \"email\",\n      label: \"Email address\",\n      name: \"email\",\n      autoComplete: \"email\",\n      value: this.state.email,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      name: \"password\",\n      label: \"Password\",\n      type: \"password\",\n      id: \"password\",\n      autoComplete: \"current-password\",\n      value: this.state.password,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }))), React.createElement(Button, {\n      type: \"submit\",\n      fullWidth: true,\n      variant: \"contained\",\n      color: \"primary\",\n      className: classes.submit,\n      onClick: () => this.handleLoginClick(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"Log in\"), this.state.error == true ? React.createElement(Alert, {\n      severity: \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \" \", this.state.errorMessage) : null)), React.createElement(Box, {\n      mt: 5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(Copyright, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default withStyles(styles)(Login);","map":{"version":3,"sources":["/opt/management-taptapnow/src/components/Login.js"],"names":["React","axios","logo","Avatar","CssBaseline","Button","TextField","FormControlLabel","Checkbox","Link","Redirect","Grid","Box","LockOutlinedIcon","Typography","makeStyles","withStyles","Container","urlFunction","Backdrop","CircularProgress","Snackbar","Alert","userContext","Copyright","Date","getFullYear","styles","theme","backdrop","zIndex","drawer","color","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","Login","Component","constructor","props","handleInputChange","e","setState","target","name","value","handleLoginClick","openBackdrop","state","password","data","email","post","then","response","console","log","localStorage","setItem","JSON","stringify","isLogin","catch","error","errorMessage","message","componentDidMount","user","button","render","classes"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport logo from '../assets/images/logo.png';\nimport Avatar from '@material-ui/core/Avatar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { Link ,Redirect } from 'react-router-dom';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles ,withStyles} from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\n// var jwt_decode = require('jwt-decode');\nimport { urlFunction } from '../utils/urls';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Alert from '@material-ui/lab/Alert';\nimport { userContext } from '../utils/userContext';\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright © '}\n\t\t<b>\n        Tap tap now  management\n      </b>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\n\nconst styles = theme => ({\n\tbackdrop: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\tcolor: '#fff',\n\t},\n\tpaper: {\n\t  marginTop: theme.spacing(8),\n\t  display: 'flex',\n\t  flexDirection: 'column',\n\t  alignItems: 'center',\n\t},\n\tavatar: {\n\t  margin: theme.spacing(1),\n\t  backgroundColor: theme.palette.secondary.main,\n\t},\n\tform: {\n\t  width: '100%', // Fix IE 11 issue.\n\t  marginTop: theme.spacing(1),\n\t},\n\tsubmit: {\n\t  margin: theme.spacing(3, 0, 2),\n\t},\n  });\n\nclass Login extends React.Component {\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\temail    : '',\n\t\t\tpassword : '',\n\t\t\terror    : false,\n\t\t\tbutton: false,\n\t\t\tisLogin: false,\n\t\t\topenBackdrop: false\n\t\t};\n\t}\n\t\n\thandleInputChange = (e) => {\n\t\tthis.setState({ [e.target.name]: e.target.value });\n\t};\n\n\thandleLoginClick = () => {\n\n\t\tthis.setState({\n\t\t\topenBackdrop: true\n\t\t});\n\n\t\tif (this.state.name !== '' && this.state.password !== '') {\n\n\t\t\tlet data = {\n\t\t\t\temail    : this.state.email,\n\t\t\t\tpassword : this.state.password,\n\t\t\t};\n\n\t\t\taxios\n\t\t\t\t.post(`${urlFunction()}/user/login`, data)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconsole.log(\"response\",response)\n\t\t\t\t\tvar data = response.data\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tlocalStorage.setItem('user', JSON.stringify(data));\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\topenBackdrop: !this.state.openBackdrop,\n\t\t\t\t\t\tisLogin: true\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\terror : true,\n\t\t\t\t\t\topenBackdrop: false,\n\t\t\t\t\t\terrorMessage: 'Verify your credentials' ||error.message,\n\t\t\t\t\t});\n\t\t\t\t\tconsole.log(\"Data login\", error)\n\t\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tthis.setState({\n\t\t\t\terrorMessage: 'Field can\\'t  be empty ',\n\t\t\t\topenBackdrop: false,\n\t\t\t\terror : true,\n\t\t\t});\n\t\t}\n\t};\n\n\tcomponentDidMount = async () => {\n\t\tlet user = await userContext();\n\t\tif (user !== null) {\n\t\t\t// setUser(JSON.parse(user))\n\t\t\tthis.setState({\n\t\t\t\tisLogin: true\n\t\t\t})\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tisLogin: false\n\t\t\t})\n\t\t}\n\t}\n\n\n\t render() {\n\t\tlet { classes } = this.props;\n\t\tif (this.state.isLogin == true ) {\n\t\t\treturn  <Redirect to='/home' />\n\t\t}\n\t\treturn (\n\t\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t\t <Backdrop className={classes.backdrop} open={this.state.openBackdrop} >\n\t\t\t\t\t<CircularProgress color=\"inherit\" />\n\t\t\t\t</Backdrop>\n\t\t\t<CssBaseline />\n\t\t\t<div className={classes.paper}>\n\t\t\t\t<img src={logo} style={{width:100,}} />\n\t\t\t  <Typography component=\"h1\" variant=\"h5\">\n\t\t\t   Log in\n\t\t\t  </Typography>\n\t\t\t\t<div className={classes.form} noValidate>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t  <Grid item xs={12}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\tlabel=\"Email address\"\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\tvalue={this.state.email}\n\t\t\t\t\t\tonChange={this.handleInputChange}\t\n\t\t\t\t\t/>\n\t\t\t\t  </Grid>\n\t\t\t\t  <Grid item xs={12}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\tvalue={this.state.password}\n\t\t\t\t\t\tonChange={this.handleInputChange}\t\n\t\t\t\t\t/>\n\t\t\t\t  </Grid>\n\t\t\t\t</Grid>\n\t\t\t\t<Button\n\t\t\t\t  type=\"submit\"\n\t\t\t\t  fullWidth\n\t\t\t\t  variant=\"contained\"\n\t\t\t\t  color=\"primary\"\n\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\tonClick={()=>this.handleLoginClick()}\n\t\t\t\t>\n\t\t\t\t\tLog in\n\t\t\t\t</Button>\n\t\t\t\t\t\t\n\t\t\t\t{\n\t\t\t\t\tthis.state.error == true ? \n\t\t\t\t\t\t<Alert severity=\"error\"> {this.state.errorMessage}</Alert>\n\t\t\t\t\t:\n\t\t\t\t\tnull\n\t\t\t\t}\n\t\t\t\t\n\t\t\t   \n\t\t\t  </div>\n\t\t\t</div>\n\t\t\t<Box mt={5}>\n\t\t\t  <Copyright />\n\t\t\t</Box>\n\t\t  </Container>\n\t\t);\n\t}\n }\n\n export default  withStyles(styles)(Login);\n\n"]},"metadata":{},"sourceType":"module"}